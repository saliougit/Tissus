<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">    <title>Suivi des Paiements - Tissus</title>
    <link rel="stylesheet" href="style.css">
    <!-- Charger jsPDF avant AutoTable -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js"></script>
</head>
<body>
    <div class="container">
        <h1>Suivi des Paiements - Tissus</h1>
        
        <div class="stats">            <div class="stat-card">
                <h3>Total G√©n√©ral</h3>
                <p>Montant total: <span id="montantTotal">0</span> FCFA</p>
                <p>Total tissus: <span id="totalTissus">0</span> m√®tres</p>
                <p>Total personnes: <span id="totalPersonnes">0</span></p>
            </div>            <div class="stat-card">
                <h3>Paiements</h3>
                <p>Montant pay√©: <span id="montantPaye">0</span> FCFA</p>
                <p>Reste √† payer: <span id="resteAPayer">0</span> FCFA</p>
                <p>Ont pay√©: <span id="personnesPaye">0</span>/<span id="totalPersonnes2">0</span></p>
                <p class="last-update">Derni√®re mise √† jour: <span id="lastUpdate">√† l'instant</span></p>
            </div>
        </div>        
        <div class="data-controls">
            <button id="exportBtn" class="btn btn-primary">
                <span>üì§ Exporter les donn√©es</span>
            </button>            <button id="importBtn" class="btn btn-secondary">
                <span>üì• Importer des donn√©es</span>
            </button>
            <button id="pdfBtn" class="btn btn-success">
                <span>üìÑ G√©n√©rer PDF des paiements</span>
            </button>
            <input type="file" id="importFile" accept=".json" style="display: none;">
        </div>
        <div class="sections-container">
            <div class="section-controls">
                <select id="sectionFilter">
                    <option value="all">Toutes les sections</option>
                    <option value="4">4 m√®tres</option>
                    <option value="5">5 m√®tres</option>
                    <option value="6">6 m√®tres</option>
                    <option value="8">8 m√®tres</option>
                </select>
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="Rechercher un nom..." class="search-input">
                </div>
            </div>
            
            <div class="tables-row">
                <div class="table-container">
                    <h2>Paiements valid√©s</h2>
                    
                    <!-- Pagination controls for payments table -->
                    <div class="pagination-controls">
                        <select class="page-size" id="paymentPageSize">
                            <option value="5">5 par page</option>
                            <option value="10" selected>10 par page</option>
                            <option value="15">15 par page</option>
                            <option value="25">25 par page</option>
                        </select>
                        <div class="pagination-buttons" id="paymentPagination">
                        </div>
                    </div>

                    <table>
                        <thead>
                            <tr>
                                <th>Nom</th>
                                <th>Longueur (m)</th>
                                <th>Co√ªt (FCFA)</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="clientsPayeList">
                            <!-- Les clients qui ont pay√© -->
                        </tbody>
                    </table>
                </div>

                <div class="table-container">
                    <h2>En attente de paiement</h2>
                    
                    <!-- Pagination controls for non-paid clients table -->
                    <div class="pagination-controls">
                        <select class="page-size" id="nonPaymentPageSize">
                            <option value="5">5 par page</option>
                            <option value="10" selected>10 par page</option>
                            <option value="15">15 par page</option>
                            <option value="25">25 par page</option>
                        </select>
                        <div class="pagination-buttons" id="nonPaymentPagination">
                        </div>
                    </div>

                    <table>
                        <thead>
                            <tr>
                                <th>Nom</th>
                                <th>Longueur (m)</th>
                                <th>Co√ªt (FCFA)</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="clientsNonPayeList">
                            <!-- Les clients qui n'ont pas pay√© -->
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="table-container mt-30">
                <h2>R√©ceptions des tissus</h2>
                
                <!-- Pagination controls for receptions table -->
                <div class="pagination-controls">
                    <select class="page-size" id="receptionPageSize">
                        <option value="5">5 par page</option>
                        <option value="10" selected>10 par page</option>
                        <option value="15">15 par page</option>
                        <option value="25">25 par page</option>
                    </select>
                    <div class="pagination-buttons" id="receptionPagination">
                    </div>
                </div>

                <table>
                    <thead>
                        <tr>
                            <th>Nom</th>
                            <th>Section</th>
                            <th>Date de r√©ception</th>
                        </tr>
                    </thead>
                    <tbody id="receptionsListeTissus">
                        <!-- Liste des r√©ceptions -->
                    </tbody>
                </table>                <div class="summary-stats">
                    <p>Section 4m : <span id="count4m">0</span>/<span id="total4m">0</span> re√ßus (<span id="restant4m">0</span> restants)</p>
                    <p>Section 5m : <span id="count5m">0</span>/<span id="total5m">0</span> re√ßus (<span id="restant5m">0</span> restants)</p>
                    <p>Section 6m : <span id="count6m">0</span>/<span id="total6m">0</span> re√ßus (<span id="restant6m">0</span> restants)</p>
                    <p>Section 8m : <span id="count8m">0</span>/<span id="total8m">0</span> re√ßus (<span id="restant8m">0</span> restants)</p>
                </div>
            </div>
        </div>
    </div>
    <script src="script.js"></script>
</body>
</html>
